apiVersion: apps/v1
kind: Deployment
metadata:
  name: nextjs-app
  labels:
   app: nextjs-app

spec:
 replicas: 2
 selector:
  matchLabels:
   app: nextjs-app
 template:
  metadata:
   labels:
    app: nextjs-app
  spec:
    containers:
     - name: nextjs
       image: ghcr.io/YOUR_GH_USER/YOUR_REPO:latest
       imagePullPolicy: IfNotPresent
       ports:
        - containerPort: 3000
       readinessProbe:
         httpGet:
           path: /
           port: 3000
         initialDelaySeconds: 5
         periodSeconds: 5
         failureThreshold: 3
       livenessProbe:
         httpGet:
           path: /
           port: 3000
         initialDelaySeconds: 15
         periodSeconds: 10
         failureThreshold: 3
